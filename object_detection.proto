syntax = "proto3";

// compile using
// python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. object_detection.proto

package object_detection;

service Detector {
    rpc detect (stream Image) returns (stream BBoxes) {}
}

message Image {
    bytes jpeg_data = 1;
}

message BBox {
    string category = 1;
    float center_x = 2;
    float center_y = 3;
    float width = 4;
    float height = 5;
    float confidence = 6;
}

message BBoxes {
    repeated BBox bboxes = 1;
}